#!/usr/bin/ruby
#encoding: utf-8
$CðŸ”ª=[Proc.new {|â™­| [0x2600,0x1f400,0x1f500][rand(3)]+(â™­ & 0xff)},Proc.new {|â™­| 0x2600+(â™­ & 0xff)},Proc.new {|â™­| [0x2600,0x1f400][rand(2)]+(â™­ & 0xff)},Proc.new {|â™­| [0x2600,0x1f500][rand(2)]+(â™­ & 0xff)},Proc.new {|â™­| [0x2600,0x1f300][rand(2)]+(â™­ & 0xff)},Proc.new {|â™­| [0x2600,0x1f300,0x1f500][rand(3)]+(â™­ & 0xff)},Proc.new {|â™­| [0x2600,0x1f300,0x1f400][rand(3)]+(â™­ & 0xff)}]
$Vâ˜˜=[[Proc.new{|â™­| (â™­<0x1f330 and â™­>0x1f31f)},$CðŸ”ª[0]],[Proc.new{|â™­| [0x1f37d,0x1f37e,0x1f37f].include?(â™­)},$CðŸ”ª[1]],[Proc.new{|â™­| (â™­>0x1f393 and â™­<0x1f3a0)},$CðŸ”ª[2]],[Proc.new{|â™­| (â™­>0x1fca and â™­<0x1f3e0)},$CðŸ”ª[1]],[Proc.new{|â™­| (â™­>0x1ff0 and â™­<0x1f3fb)},$CðŸ”ª[1]],[Proc.new{|â™­| (â™­>0x1f3fa and â™­<0x1f400)},$CðŸ”ª[3]],[Proc.new{|â™­| (â™­ == 0x1f42c)},$CðŸ”ª[3]],[Proc.new{|â™­| (â™­>0x1f440 and â™­<0x1f445)},$CðŸ”ª[4]],[Proc.new{|â™­| (â™­>0x1f44f and â™­<0x1f468)},$CðŸ”ª[5]],[Proc.new{|â™­| (â™­>0x1f467 and â™­<0x1f47d)},$CðŸ”ª[3]],[Proc.new{|â™­| (â™­>0x1f47c and â™­<0x1f480)},$CðŸ”ª[1]],[Proc.new{|â™­| (â™­>0x1f4c5 and â™­<0x1f4cb)},$CðŸ”ª[4]],[Proc.new{|â™­| (â™­>0x1f4ca and â™­<0x1f4e0)},$CðŸ”ª[1]],[Proc.new{|â™­| (â™­>0x1f4df and â™­<0x1f4f1)},$CðŸ”ª[4]],[Proc.new{|â™­| (â™­>0x1f4f0 and â™­<0x1f4fb)},$CðŸ”ª[1]],[Proc.new{|â™­| (â™­>0x1f4fa and â™­<0x1f500)},$CðŸ”ª[3]],[Proc.new{|â™­| (â™­>0x1f53d and â™­<0x1f550)},$CðŸ”ª[4]],[Proc.new{|â™­| (â™­>0x1f567 and â™­<0x1f57d)},$CðŸ”ª[4]],[Proc.new{|â™­| (â™­>0x1f57c and â™­<0x1f580)},$CðŸ”ª[1]],[Proc.new{|â™­| (â™­>0x1f57f and â™­<0x1f594)},$CðŸ”ª[6]],[Proc.new{|â™­| (â™­>0x1f593 and â™­<0x1f5a0)},$CðŸ”ª[2]],[Proc.new{|â™­| (â™­>0x1f59f and â™­<0x1f5c5)},$CðŸ”ª[6]],[Proc.new{|â™­| â™­ == 0x1f5c5 },$CðŸ”ª[2]],[Proc.new{|â™­| (â™­>0x1f5c5 and â™­<0x1f5cb)},$CðŸ”ª[4]],[Proc.new{|â™­| (â™­>0x1f5ca and â™­<0x1f5e0)},$CðŸ”ª[1]],[Proc.new{|â™­| (â™­>0x1f5df and â™­<0x1f5f1)},$CðŸ”ª[4]],[Proc.new{|â™­| (â™­>0x1f5f0 and â™­<0x1f5fb)},$CðŸ”ª[1]]]
class String
    def _replace_e(ðŸ®); $Vâ˜˜.each {|ðŸœ| return ðŸœ[1].call(ðŸ®).to_s(16) if ðŸœ[0].call(ðŸ®) }; ðŸ®.to_s(16); end
    def to_e; self.encode(%<utf-8>).codepoints.map{|ðŸ¢| eval(ðŸ¢> 0xFF ? sprintf(%|\"\\u{1f3%02X}\\u{1f4%02X}\\u{1f5%02X}\"|,ðŸ¢&0xFF,(ðŸ¢ >>8)&0xFF,(ðŸ¢ >>16)&0xFF) : %_%$\\u{1f6_+ðŸ¢.to_s(16)+%;}$;)}.join(); end
    def parse_e; ðŸ’©=%%%;ðŸŠ=â˜‚ =0; self.each_codepoint.map{|ðŸ| ðŸ>>8==0x1f6 ? ðŸ’©<<(ðŸ&0xFF).chr(Encoding::UTF_8) : (ðŸŠ+=(ðŸ&0xff)<<((â˜‚ %3)*8); if (â˜‚+=1)%3==0; ðŸ’©<<ðŸŠ.chr(Encoding::UTF_8);ðŸŠ=0; end)};ðŸ’©; end
    def hex_to_e(); self.gsub(/[^0-9a-f]/,%%%).scan(/../).map{|â›‘| eval(%(\"\\u{)+_replace_e([0x1f300,0x1f400,0x1f500][rand(3)]+â›‘.to_i(16))+%&}\"&)}.join(); end
    def hex_parse_e(); self.codepoints.map{|â˜¹| (â˜¹&0xFF).to_s(16)}.join(); end
end
